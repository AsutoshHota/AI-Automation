
{
  "nodes": [
    {
      "parameters": {},
      "name": "Start",
      "type": "n8n-nodes-base.start",
      "typeVersion": 1,
      "position": [
        100,
        300
      ]
    },
    {
      "parameters": {
        "formUi": {
          "fields": [
            {
              "key": "contractName",
              "label": "Contract Name",
              "type": "string"
            },
            {
                "key": "clientName",
                "label": "Client Name",
                "type": "string"
            },
            {
                "key": "serviceCategory",
                "label": "Service Category",
                "type": "options",
                 "options": [
                  {
                    "name": "Consulting",
                    "value": "consulting"
                  },
                  {
                     "name": "Development",
                     "value": "development"
                   },
                   {
                      "name": "Maintenance",
                      "value": "maintenance"
                    }
                ]
             },
            {
              "key": "startDate",
              "label": "Start Date",
              "type": "date"
            },
            {
              "key": "endDate",
              "label": "End Date",
              "type": "date"
            },
            {
              "key": "serviceRequirements",
              "label": "Service Requirements",
              "type": "text"
            }
          ]
        }
      },
      "name": "Collect Input Form",
      "type": "n8n-nodes-base.form",
      "typeVersion": 1,
      "position": [
        300,
        300
      ]
    },
    {
      "parameters": {
        "values": [
          {
            "json": "={\n  \"contractName\": $node[\"Collect Input Form\"].json[\"contractName\"],\n  \"clientName\": $node[\"Collect Input Form\"].json[\"clientName\"],\n  \"serviceCategory\": $node[\"Collect Input Form\"].json[\"serviceCategory\"],\n   \"startDate\": $node[\"Collect Input Form\"].json[\"startDate\"],\n  \"endDate\": $node[\"Collect Input Form\"].json[\"endDate\"],\n  \"serviceRequirements\": $node[\"Collect Input Form\"].json[\"serviceRequirements\"]\n}"
          }
        ],
        "options": {}
      },
      "name": "Set Input Variables",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        500,
        300
      ]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.serviceCategory}}",
              "operation": "equals",
              "value2": "consulting"
            }
          ]
        }
      },
      "name": "Service Category Router",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        700,
        300
      ]
    },
    {
        "parameters": {
           "additionalFields": {
                "json": "{\n \"introduction\": \"This Scope of Work (SoW) details the services to be provided under the [Contract Name] contract, between the [Client Name] and the service provider. \",\n   \"serviceDescription\": \"The consulting service includes detailed analysis, strategic planning and advice delivery.\",\n   \"deliverables\": \"Consulting reports, strategy documents, analysis presentations.\"\n}\n"
           }
        },
      "name": "Consulting Template",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
       "position": [
        900,
        200
      ]
    },
     {
        "parameters": {
           "additionalFields": {
                "json": "{\n \"introduction\": \"This Scope of Work (SoW) details the services to be provided under the [Contract Name] contract, between the [Client Name] and the service provider. \",\n   \"serviceDescription\": \"The development service includes custom code development, testing and integration services.\",\n   \"deliverables\": \"Application Code, test reports, user manuals.\"\n}\n"
           }
        },
      "name": "Development Template",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
       "position": [
        900,
        400
      ]
    },
        {
        "parameters": {
           "additionalFields": {
                "json": "{\n \"introduction\": \"This Scope of Work (SoW) details the services to be provided under the [Contract Name] contract, between the [Client Name] and the service provider. \",\n   \"serviceDescription\": \"The maintenance service includes bug fixing, system monitoring and application maintenance.\",\n   \"deliverables\": \"Bug fix reports, system performance reports, maintenance logs.\"\n}\n"
           }
        },
      "name": "Maintenance Template",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
       "position": [
        900,
        600
      ]
    },
    {
      "parameters": {
        "join": [
          {
            "mode": "append",
            "values": [
              {
                "json": "={{$node[\"Set Input Variables\"].json}}"
              },
              {
                "json": "={{$node[\"Consulting Template\"].json}}"
              }
            ]
          }
        ],
         "options": {}
      },
      "name": "Combine Consulting Output",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
       "position": [
        1100,
        200
      ]
    },
     {
      "parameters": {
        "join": [
          {
            "mode": "append",
            "values": [
              {
                "json": "={{$node[\"Set Input Variables\"].json}}"
              },
              {
                "json": "={{$node[\"Development Template\"].json}}"
              }
            ]
          }
        ],
        "options": {}
      },
      "name": "Combine Development Output",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
        "position": [
        1100,
        400
      ]
    },
      {
      "parameters": {
        "join": [
          {
            "mode": "append",
            "values": [
              {
                "json": "={{$node[\"Set Input Variables\"].json}}"
              },
              {
                "json": "={{$node[\"Maintenance Template\"].json}}"
              }
            ]
          }
        ],
        "options": {}
      },
      "name": "Combine Maintenance Output",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        1100,
        600
      ]
    },
      {
      "parameters": {
          "options": {
            "merge": true
          }
      },
      "name": "Merge All Outputs",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 1,
       "position": [
         1300,
        400
      ]
    },
    {
      "parameters": {
        "text": "\nContract Name: {{$json.contractName}}\nClient Name: {{$json.clientName}}\nService Category: {{$json.serviceCategory}}\nStart Date: {{$json.startDate}}\nEnd Date: {{$json.endDate}}\nService Requirements: {{$json.serviceRequirements}}\n\nIntroduction: {{$json.introduction}}\nService Description: {{$json.serviceDescription}}\nDeliverables: {{$json.deliverables}}\n"
      },
      "name": "Format Text",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
       "position": [
         1500,
        400
      ]
    },
      {
      "parameters": {
        "fileName": "sow_{{$now.toFormat(\"yyyyMMddHHmmss\")}}",
        "fileFormat": "txt",
        "fileContent": "={{$node[\"Format Text\"].code}}"
      },
      "name": "Write File",
      "type": "n8n-nodes-base.writeFile",
      "typeVersion": 1,
       "position": [
        1700,
        400
      ]
    }
  ],
  "connections": {
    "Start": {
      "main": [
        [
          "Collect Input Form",
          0
        ]
      ]
    },
    "Collect Input Form": {
      "main": [
        [
          "Set Input Variables",
          0
        ]
      ]
    },
    "Set Input Variables": {
      "main": [
        [
          "Service Category Router",
          0
        ]
      ]
    },
    "Service Category Router": {
      "main": [
        [
          "Consulting Template",
          0
        ]
      ],
       "true": [
          [
            "Combine Consulting Output",
             0
          ]
         ],
         "false": [
              [
                "Development Template",
               0
             ],
             [
                "Maintenance Template",
                0
             ]
          ]
    },
       "Consulting Template": {
        "main": [
            [
              "Combine Consulting Output",
              1
            ]
          ]
       },
         "Development Template": {
          "main": [
            [
              "Combine Development Output",
              1
            ]
          ]
       },
          "Maintenance Template": {
            "main": [
               [
                "Combine Maintenance Output",
                1
              ]
           ]
          },
        "Combine Consulting Output": {
           "main":[
             [
                 "Merge All Outputs",
                 0
             ]
            ]
        },
      "Combine Development Output": {
          "main":[
             [
                 "Merge All Outputs",
                 1
             ]
           ]
      },
       "Combine Maintenance Output": {
           "main":[
             [
                 "Merge All Outputs",
                 2
             ]
            ]
      },
        "Merge All Outputs": {
          "main":[
            [
                "Format Text",
                0
            ]
           ]
        },
    "Format Text": {
      "main": [
        [
          "Write File",
          0
        ]
      ]
    }
  }
}


